<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Security Headers for Cross-Origin Isolation -->
    <meta http-equiv="Cross-Origin-Embedder-Policy" content="require-corp" />
    <meta http-equiv="Cross-Origin-Opener-Policy" content="same-origin" />
    <meta http-equiv="Cross-Origin-Resource-Policy" content="same-site" />
    <title>My Vite React App</title>

    <!-- Preload critical fonts and styles -->
    <link rel="preload" href="/assets/fonts/MyFont.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="/assets/main.css" as="style">

    <!-- Main stylesheet -->
    <link rel="stylesheet" href="/assets/main.css" />
  </head>
  <body>
    <div id="root"></div>

    <!-- Load JS: use Vite dev scripts on localhost, otherwise load production bundle -->
    <script>
      (function() {
        const { hostname, protocol } = window.location;
        if (hostname === 'localhost' || hostname === '127.0.0.1') {
          // In development, include Vite client and main module from local dev server
          document.write(`<script type="module" src="${protocol}//${hostname}:5173/@vite/client"><\/script>`);
          document.write(`<script type="module" src="${protocol}//${hostname}:5173/src/main.jsx"><\/script>`);
        } else {
          // In production, include the built JS bundle (ES module)
          document.write(`<script type="module" src="/assets/main.js"><\/script>`);
        }
      })();
    </script>

    <!-- Netlify Real User Monitoring script (async) -->
    <script async src="https://cdn.netlify.com/your-rum-script.js" data-token="YOUR_NETLIFY_RUM_TOKEN" defer></script>
  </body>
</html>